<%= fields_for :survey, survey do |f|  %>
  <%= f.hidden_field :id, name: "survey[id]" %>
  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="description">Titel (deutsch)</label>
        <%= f.text_field :title_de, name: "survey[title][de]", class: "form-control" %>
      </div>
      <div class="form-group">
        <label for="description">Titel (polnisch)</label>
        <%= f.text_field :title_pl, name: "survey[title][pl]", class: "form-control" %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="description">Beschreibung (deutsch)</label>
        <%= f.text_area :description_de, name: "survey[description][de]", class: "form-control", rows: 3 %>
      </div>
      <div class="form-group">
        <label for="description">Beschreibung (polnisch)</label>
        <%= f.text_area :description_pl, name: "survey[description][pl]", class: "form-control", rows: 3 %>
      </div>
    </div>
  </div>

  <div class="row">
    <%= f.hidden_field :question_id, name: "survey[question_id]" %>
    <div class="col">
      <div class="form-group">
        <label for="description">Frage (deutsch) *</label>
        <%= f.text_field :question_title_de, name: "survey[question_title][de]", class: "form-control", required: true %>
      </div>
      <div class="form-group">
        <label for="description">Frage (polnisch)</label>
        <%= f.text_field :question_title_pl, name: "survey[question_title][pl]", class: "form-control" %>
      </div>
    </div>
  </div>

  <%= render(
      partial: "shared/partials/dates_form",
      locals: {
        record: survey,
        form: f,
        fields: ['date_start', 'date_end'],
        requireds: ['date_start', 'date_end'],
        labels: {
          date_start: "Startdatum",
          date_end: "Enddatum"
        },
        values: {
          date_start: Time.now.to_date
        },
        force_visibility: true
    }) %>

  <div class="row">
    <div class="col-12 col-sm-6">
      <div class="form-group">
        <label for="description">Startzeit</label>
        <%= f.time_field(
              :time_start,
              class: "form-control"
            ) %>
      </div>
    </div>
    <div class="col-12 col-sm-6">
      <div class="form-group">
        <label for="description">Endzeit</label>
        <%= f.time_field(
              :time_end,
              class: "form-control"
            ) %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <h2 class="d-sm-flex align-items-center justify-content-between my-4">
        Antwortmöglichkeiten
      </h2>

      <p>
        Sie können den Text der Antworten jederzeit bearbeiten.
        Das Löschen einer Antwort ist aber nur möglich, wenn für diese noch keine
        Stimmen abgegeben wurden.
      </p>

      <p><small>(min. 2, max. 10, Zeichenlänge max. 150, in deutsch und polnisch)</small></p>

      <%= render partial: "surveys/form_partials/response_options_form", locals: { survey: survey, form: f  } %>
    </div>
  </div>

  <hr />

  <div class="row justify-content-center pb-4">
    <%= f.submit "Speichern", class: "btn btn-primary btn--big" %>
  </div>
<% end %>
